# 面向葫芦娃编程说明文档

## 一、单一责任原则
1. Position类负责管理二维空间上一个坐标点的相关信息，包括横纵坐标、位于该坐标上的生物、是否被占据、是否为边界，并提供获取这些信息和在该坐标设置生物体的对外接口；
2. Zhenxing类负责管理一个阵型的相关信息，包括阵名、组成阵型的坐标组信息，并提供获取这些信息的对外接口；
3. Huluwa、Yaoguai、Spectator类分别对应葫芦娃、妖怪、旁观者(蛇精、爷爷)，实现了Creatrue接口，负责管理这些对象的基本信息和操作；
4. CreatrueQueue类负责管理一个生物队列的相关信息，实现了Queue接口，包括生物体、坐标组信息，以及队列排序、随机排列、报告队列信息等操作；
5. Board类负责管理二维空间，基本属性包括N*N个坐标点，队列组，可用阵型组，操作包括初始化阵型(读文件)、葫芦娃设阵、妖怪变阵、旁观者在二维空间随机出现等；
6. 优点如下:  
a) 提高了代码的可读性;  
b) 提高了系统的可维护性；  
c) 降低一个功能修改对其它功能的影响。  

## 二、开放封闭原则和Liskov替换原则
1. Creatrue接口提供了生物体的通用操作，是不允许改变的，这体现了面向对象程序设计抽象化的核心本质，是封闭原则的体现；
2. Huluwa、Yaoguai、Spectator类则实现了Creatrue接口，在扩展这些实体同时不需要修改Creatrue接口的源代码，这是开放原则的体现。其中Huluwa类实现了Creatrue和Comparable接口，这是多重继承机制，因为类继承只允许一个，但接口可以实现多个；
3. 程序中处理生物体的函数的参数均为Creture类型，因而这些函数均可适用于Huluwa、Yaoguai、Spectator类，且行为不会发生改变，这体现了Liskov替换原则;
4. 优点如下:  
a) 有利于功能扩展，并保证了源代码的稳定性；  
b) 代码复用，减少类的数量和代码量。

## 三、依赖倒置原则
1. CreatrueQueue类中依赖于Creatrue接口，而非Huluwa、Yaoguai、Spectator等具体类，因而CreatrueQueue类可对这些类进行统一操作；
2. Board类依赖于Queue接口，可对实现了Queue接口CreatrueQueue类进行操作，而Position、Zhenxing等具体类具有稳定性，因而可以依赖。
3. 优点如下：  
a) 高层类不依赖于底层类的具体实现，底层类的修改不会牵涉到高层类，因而健壮性更好；  
b) 提高代码的可读性和可维护性，降低并行开发的风险。

## 四、合成/聚合复用原则
1. Board类拥有Position、Zhenxing、Queue等对象成员，这体现聚合复用原则；
2. 优点如下：  
a) 黑箱复用，保证了源代码的安全性；  
b) 每一个新的类可以将焦点集中在一个任务上;  
c) 复用依赖较少，降低了耦合度；  
d) 可以在运行时动态执行。

## 五、附件
1. Zhenxing.txt  
阵型初始化文件，输入格式如下：  
鹤翼 (8,9) (7,8) (7,10) (6,7) (6,11) (5,6) (5,12) (4,5) (4,13)  
雁形 (4,9) (3,10) (5,8) (2,11) (6,7) (1,12) (7,6) (0,13) (8,5)  
......  
2. result.png  
运行结果截图